{
  "$id": "Metadata.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema",
  "definitions": {
    "sources": {
      "properties": {
        "Comicvine": {
          "minimum": 1,
          "type": "integer"
        },
        "League of Comic Geeks": {
          "minimum": 1,
          "type": "integer"
        },
        "Marvel": {
          "minimum": 1,
          "type": "integer"
        },
        "Metron": {
          "minimum": 1,
          "type": "integer"
        }
      },
      "type": "object"
    }
  },
  "properties": {
    "data": {
      "properties": {
        "issue": {
          "properties": {
            "characters": {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            "coverDate": {
              "default": null,
              "format": "date",
              "type": [
                "string",
                "null"
              ]
            },
            "creators": {
              "items": {
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "roles": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array",
                    "uniqueItems": true
                  }
                },
                "required": [
                  "name",
                  "roles"
                ],
                "type": "object"
              },
              "type": "array",
              "uniqueItems": true
            },
            "format": {
              "default": "Comic",
              "type": "string"
            },
            "genres": {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            "language": {
              "default": "en",
              "pattern": "[a-z]+",
              "type": "string"
            },
            "locations": {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            "number": {
              "type": "string"
            },
            "pageCount": {
              "default": null,
              "minimum": 1,
              "type": [
                "integer",
                "null"
              ]
            },
            "sources": {
              "$ref": "#/definitions/sources",
              "type": "object"
            },
            "storeDate": {
              "default": null,
              "format": "date",
              "type": [
                "string",
                "null"
              ]
            },
            "storyArcs": {
              "items": {
                "properties": {
                  "number": {
                    "type": "integer"
                  },
                  "title": {
                    "type": "string"
                  }
                },
                "required": [
                  "title"
                ],
                "type": "object"
              },
              "type": "array",
              "uniqueItems": true
            },
            "summary": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "teams": {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            "title": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "characters",
            "coverDate",
            "creators",
            "format",
            "genres",
            "language",
            "locations",
            "number",
            "pageCount",
            "sources",
            "storeDate",
            "storyArcs",
            "summary",
            "teams",
            "title"
          ],
          "type": "object"
        },
        "notes": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "publisher": {
          "properties": {
            "imprint": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "sources": {
              "$ref": "#/definitions/sources",
              "type": "object"
            },
            "title": {
              "type": "string"
            }
          },
          "required": [
            "sources",
            "title"
          ],
          "type": "object"
        },
        "series": {
          "properties": {
            "sources": {
              "$ref": "#/definitions/sources",
              "type": "object"
            },
            "startYear": {
              "default": null,
              "minimum": 1900,
              "type": [
                "integer",
                "null"
              ]
            },
            "title": {
              "type": "string"
            },
            "volume": {
              "default": 1,
              "minimum": 1,
              "type": "integer"
            }
          },
          "required": [
            "sources",
            "startYear",
            "title",
            "volume"
          ],
          "type": "object"
        }
      },
      "required": [
        "publisher",
        "series",
        "issue"
      ],
      "type": "object"
    },
    "meta": {
      "properties": {
        "date": {
          "format": "date",
          "type": "string"
        },
        "tool": {
          "properties": {
            "name": {
              "type": "string"
            },
            "version": {
              "pattern": "^\\d+\\.\\d+\\.\\d+$",
              "type": "string"
            }
          },
          "required": [
            "name",
            "version"
          ],
          "type": "object"
        }
      },
      "required": [
        "date",
        "tool"
      ],
      "type": "object"
    }
  },
  "required": [
    "data",
    "meta"
  ],
  "type": "object"
}
