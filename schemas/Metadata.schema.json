{
  "$id": "Metadata.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema",
  "additionalProperties": false,
  "definitions": {
    "format": {
      "enum": [
        "Comic",
        "Digital Chapter",
        "Annual",
        "Trade Paperback",
        "Hardcover",
        "Graphic Novel"
      ],
      "type": "string"
    },
    "genre": {
      "enum": [
        "Adult",
        "Crime",
        "Espionage",
        "Fantasy",
        "Historical",
        "Horror",
        "Humor",
        "Manga",
        "Parody",
        "Romance",
        "Science Fiction",
        "Sport",
        "Super-Hero",
        "War",
        "Western"
      ],
      "type": "string"
    },
    "role": {
      "enum": [
        "Writer",
        "Story",
        "Artist",
        "Penciller",
        "Inker",
        "Colourist",
        "Letterer",
        "Designer",
        "Cover Artist",
        "Variant Cover Artist",
        "Editor",
        "Assistant Editor",
        "Associate Editor",
        "Consulting Editor",
        "Senior Editor",
        "Group Editor",
        "Executive Editor",
        "Editor in Chief",
        "Creator",
        "Translator",
        "Other"
      ],
      "type": "string"
    },
    "sources": {
      "additionalProperties": false,
      "properties": {
        "Comicvine": {
          "minimum": 1,
          "type": "integer"
        },
        "Grand Comics Database": {
          "minimum": 1,
          "type": "integer"
        },
        "League of Comic Geeks": {
          "minimum": 1,
          "type": "integer"
        },
        "Marvel": {
          "minimum": 1,
          "type": "integer"
        },
        "Metron": {
          "minimum": 1,
          "type": "integer"
        }
      },
      "type": "object"
    }
  },
  "properties": {
    "data": {
      "additionalProperties": false,
      "properties": {
        "issue": {
          "additionalProperties": false,
          "properties": {
            "characters": {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            "coverDate": {
              "default": null,
              "format": "date",
              "type": [
                "string",
                "null"
              ]
            },
            "creators": {
              "items": {
                "additionalProperties": false,
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "roles": {
                    "items": {
                      "$ref": "#/definitions/role"
                    },
                    "type": "array",
                    "uniqueItems": true
                  }
                },
                "required": [
                  "name",
                  "roles"
                ],
                "type": "object"
              },
              "type": "array",
              "uniqueItems": true
            },
            "format": {
              "$ref": "#/definitions/format",
              "default": "Comic"
            },
            "genres": {
              "items": {
                "$ref": "#/definitions/genre"
              },
              "type": "array",
              "uniqueItems": true
            },
            "language": {
              "default": "en",
              "pattern": "[a-z]+",
              "type": "string"
            },
            "locations": {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            "number": {
              "type": "string"
            },
            "pageCount": {
              "default": null,
              "minimum": 1,
              "type": [
                "integer",
                "null"
              ]
            },
            "sources": {
              "$ref": "#/definitions/sources",
              "type": "object"
            },
            "storeDate": {
              "default": null,
              "format": "date",
              "type": [
                "string",
                "null"
              ]
            },
            "storyArcs": {
              "items": {
                "additionalProperties": false,
                "properties": {
                  "number": {
                    "default": null,
                    "type": [
                      "integer",
                      "null"
                    ]
                  },
                  "title": {
                    "type": "string"
                  }
                },
                "required": [
                  "title"
                ],
                "type": "object"
              },
              "type": "array",
              "uniqueItems": true
            },
            "summary": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "teams": {
              "items": {
                "type": "string"
              },
              "type": "array",
              "uniqueItems": true
            },
            "title": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "characters",
            "coverDate",
            "creators",
            "format",
            "genres",
            "language",
            "locations",
            "number",
            "pageCount",
            "sources",
            "storeDate",
            "storyArcs",
            "summary",
            "teams",
            "title"
          ],
          "type": "object"
        },
        "notes": {
          "default": null,
          "type": [
            "string",
            "null"
          ]
        },
        "pages": {
          "items": {
            "additionalProperties": false,
            "properties": {
              "bookmark": {
                "default": null,
                "type": [
                  "string",
                  "null"
                ]
              },
              "doublePage": {
                "default": false,
                "type": "boolean"
              },
              "image": {
                "minimum": 0,
                "type": "integer"
              },
              "imageHeight": {
                "default": null,
                "type": [
                  "integer",
                  "null"
                ]
              },
              "imageSize": {
                "default": 0,
                "minimum": 0,
                "type": "integer"
              },
              "imageWidth": {
                "default": null,
                "type": [
                  "integer",
                  "null"
                ]
              },
              "key": {
                "default": null,
                "type": [
                  "string",
                  "null"
                ]
              },
              "pageType": {
                "default": "Story",
                "type": "string"
              }
            },
            "required": [
              "image"
            ],
            "type": "object"
          },
          "type": "array",
          "uniqueItems": true
        },
        "publisher": {
          "additionalProperties": false,
          "properties": {
            "imprint": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "sources": {
              "$ref": "#/definitions/sources",
              "type": "object"
            },
            "title": {
              "type": "string"
            }
          },
          "required": [
            "sources",
            "title"
          ],
          "type": "object"
        },
        "series": {
          "additionalProperties": false,
          "properties": {
            "sources": {
              "$ref": "#/definitions/sources",
              "type": "object"
            },
            "startYear": {
              "default": null,
              "minimum": 1900,
              "type": [
                "integer",
                "null"
              ]
            },
            "title": {
              "type": "string"
            },
            "volume": {
              "default": 1,
              "minimum": 1,
              "type": "integer"
            }
          },
          "required": [
            "sources",
            "startYear",
            "title",
            "volume"
          ],
          "type": "object"
        }
      },
      "required": [
        "publisher",
        "series",
        "issue"
      ],
      "type": "object"
    },
    "meta": {
      "additionalProperties": false,
      "properties": {
        "date": {
          "format": "date",
          "type": "string"
        },
        "tool": {
          "additionalProperties": false,
          "properties": {
            "name": {
              "type": "string"
            },
            "version": {
              "pattern": "^\\d+\\.\\d+\\.\\d+$",
              "type": "string"
            }
          },
          "required": [
            "name",
            "version"
          ],
          "type": "object"
        }
      },
      "required": [
        "date",
        "tool"
      ],
      "type": "object"
    }
  },
  "required": [
    "data",
    "meta"
  ],
  "type": "object"
}
